@model IEnumerable<SAT.DATA.EF.Models.Enrollment>

@{
    ViewData["Title"] = "Enrollments";
}

@* <h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p> *@

<section class="about-us" id="about">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 offset-lg-3">
                <div class="section-heading">

                    <h4 class="mb-2">@ViewData["Title"]</h4>
                    @if (User.IsInRole("Admin"))
                    {
                        <a asp-action="Create" class="btn btn-primary">Add New Enrollment</a>
                    }

                </div>
            </div>
            <div class="col-lg-12">
                <div class="naccs">
                    <div class="tabs">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="menu">
                                    <div class="active gradient-border"><span>Enrollments</span></div>
                                    @* <div class="gradient-border"><span>Dates</span></div>
                                    <div class="gradient-border"><span>Web Coding</span></div> *@
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <ul class="nacc">
                                    <li class="active">
                                        <div>
                                            <div class="main-list">
                                                <span class="title">Student</span>
                                                <span class="title">Class</span>
                                                <span class="title">Enrollment Date</span>
                                                <span class="title">Actions</span>
                                            </div>
                                            @foreach (var item in Model)
                                            {
                                             <a asp-action="Details" asp-route-id="@item.EnrollmentId">
                                                    <div class="list-item" id="row">
                                                        <span class="item item-title">@Html.DisplayFor(modelItem =>
                                                            item.Student.FirstName) @Html.DisplayFor(modelItem => 
                                                            item.Student.LastName)</span>


                                                        <span class="item">@Html.DisplayFor(modelItem =>
                                                                     item.ScheduledClass.Course.CourseName)
                                                        </span>

                                                        <span class="item">@Html.DisplayFor(modelItem => item.EnrollmentDate)
                                                        </span>


                                                        <a asp-action="Details" asp-route-id="@item.EnrollmentId" 
                                                        class="item btn" id="details-btn" 
                                                        style="background-color:#43ba7f;color:white;">Details</a>

                                                        @if (User.IsInRole("Admin"))
                                                        {
                                                            <a asp-action="Edit" asp-route-id="@item.EnrollmentId" 
                                                            class="item btn" 
                                                            style="background-color:#43ba7f;color:white;">Edit</a>

                                                            <a asp-action="Delete" asp-route-id="@item.EnrollmentId"
                                                            class="item btn btn-danger">Delete</a>
                                                        }
                                                    </div>
                                                </a>
                                            }
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@* 
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.EnrollmentDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ScheduledClass)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Student)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.EnrollmentDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ScheduledClass.InstructorName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Student.Email)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.EnrollmentId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.EnrollmentId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.EnrollmentId">Delete</a>
            </td>
        </tr> *@
@* }
    </tbody>
</table> *@
